<!DOCTYPE HTML>

<html>
	<head>
	</head>
	<body>
		<video id="v" controls loop src="sample.mp4" width="500"></video>
		<canvas id="c" width="500" height="500"></canvas>

		<script type="text/javascript">
			var c = document.querySelector("canvas");
			var ctx = c.getContext("2d");

			document.addEventListener('DOMContentLoaded', function() {
				console.log("LOADED");
				var v = document.querySelector('#v');
				var canvas = document.querySelector('#c');
				var ctx = canvas.getContext('2d');

				v.addEventListener('loadedmetadata', function() {
					console.log("loadedmetadata");
					canvas.width = this.videoWidth;
					canvas.height = this.videoHeight;
				});

				var draw = function() {
					console.log("draw");
					canvas.getContext('2d').drawImage(v, 0, 0);
				}

				v.addEventListener('play', function(){
					console.log("play");
					if(v.paused || v.ended) return;
					draw();
				});
			});
		</script
	</body>
</html>,